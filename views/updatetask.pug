html
  head 
    title="Edit Task"
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet")
    style 
      include ../static/style.css

  body 
    div(class="container")
      a#header(href="/" class="pb-2")="Task Management"
      h4(class="p-2")="Edit Task"
      div(class="card")
        div(class="card-body")
          form#form-1(action="/auth/updatetask" method="POST")
            div(class="form-group")
              h5(class="mt-3") Task_Id
              select(class="mdb-select md-form mb-3 w-50" name="task_id")
                option(value="" disabled selected)="Choose Task_Id"
                  if selected_task
                    option(value=selected_task[0].task_id selected)=selected_task[0].task_id
                  else 
                    if task_array 
                      for task  in task_array 
                        option(value=task.task_id)=task.task_id
            
              div(class="row")
                button(type="submit" form="form-1" class="btn btn-primary ml-3 mb-3" name="task_id_btn" value="true")="Check Task Id"
            
              if selected_app
                form(action="/auth/updatetask" method="POST")
                  div(class="form-group")
                    h5 Description
                    textarea(name="description", cols="57", rows="4") 
                      if selected_app
                        for app in selected_app
                          option(value=app.description)=app.description
                  
                  if selected_app 
                    for app in selected_app
                      div(class="form-group")
                        h5="rNumber"
                        input(type="text" name="rnumber" value=app.rnumber placeholder=app.rnumber disabled="disabled")
                  
                  div(class="form-group")
                    h5="Start Date"
                    input(type="date" name="start_date" value=start_Date)
                  
                  div(class="form-group")
                    h5="End Date"
                    input(type="date" name="end_date" value=end_Date)

                  div(class="form-group")
                    h5(class="mt-3") Permit Open 
                    select(class="mdb-select md-form mb-3 w-50" name="permit_open")
                      option(value="" disabled selected)="Choose Role"
                      if roles
                        for role in roles
                          option(value=role)=role
                  
                  div(class="form-group")
                    h5(class="mt-3") Permit To-do-list
                    select(class="mdb-select md-form mb-3 w-50" name="permit_todolist")
                      option(value="" disabled selected)="Choose Role"
                      if roles
                        for role in roles
                          option(value=role)=role

                  div(class="form-group")
                    h5(class="mt-3") Permit Doing 
                    select(class="mdb-select md-form mb-3 w-50" name="permit_doing")
                      option(value="" disabled selected)="Choose Role"
                      if roles
                        for role in roles
                          option(value=role)=role

                  div(class="form-group")
                    h5(class="mt-3") Permit Done  
                    select(class="mdb-select md-form mb-3 w-50" name="permit_done")
                      option(value="" disabled selected)="Choose Role"
                      if roles
                        for role in roles
                          option(value=role)=role

                  button(type="submit" class="btn btn-primary" name="confirm_edit_btn" value="true")="Update"
      if message
        h4(class="alert alert-danger mt-4")=message 

  script(src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous")

  script(src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous") 