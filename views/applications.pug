html
  head 
    title="All Applications"
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet")
    style 
      include ../static/style.css
      include ../static/accordion.css

  body 
    include ./navbar.pug

    div(class="container")
        h4(class="ml-2 float-left") All Applications
        
        div(id="divBox" style="height:30;width:100%;")
            div(class="row float-right")
                a#createapp-link(href="/createapp" class="mr-3")="Create Application"
                a#updateapp-link(href="/editapp" class="mr-3")="Update Application"
        
        div(class="form-group mt-3")
            mixin accordion(id, app_acronym, description, rnumber, start_date, end_date, permit_open, permit_todolist, permit_doing, permit_done)
                .accordion 
                    input.toggle(id=id, type="checkbox")
                    label.accordion-header.accordion-toggle(for=id)
                        span(value=app_acronym)=app_acronym  
                    .accordion-content 
                        .accordion-content-inner 
                            p(value=description)=`Description: ${description}`
                            p(value=rnumber)=`rNumber: ${rnumber}`
                            p(value=start_date)=`Start Date: ${start_date}`
                            p(value=end_date)=`End Date: ${end_date}`
                            p(value=permit_open)=`Permit Open: ${permit_open}`
                            p(value=permit_todolist)=`Permit To-do-list: ${permit_todolist}`
                            p(value=permit_doing)=`Permit Doing: ${permit_doing}`
                            p(value=permit_done)=`Permit Done: ${permit_done}` 


            if app_array
                each app in app_array
                    +accordion("accordion-expandable-"+app.app_acronym, app.app_acronym, app.description, app.rnumber, app.start_date, app.end_date, app.permit_open, app.permit_todolist, app.permit_doing, app.permit_done)


  script(src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous")

  script(src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous") 